<?plantuml 1.2026.0?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1759px" preserveAspectRatio="none" style="width:2463px;height:1759px;background:#FFFFFF;" version="1.1" viewBox="0 0 2463 1759" width="2463px" zoomAndPan="magnify"><title>Yandex Go Sequence Diagram - Ride Booking Flow</title><defs/><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="626.6885" x="916.73" y="35.4209">Yandex Go Sequence Diagram - Ride Booking Flow</text><rect fill="#F5F5F5" height="1693.8281" style="stroke:#000000;stroke-width:1;" width="948.293" x="812.7207" y="52.6094"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="100.0073" x="1236.8635" y="64.6763">Core Services</text><rect fill="#E0FFFF" height="1693.8281" style="stroke:#000000;stroke-width:1;" width="404.5107" x="1773.0137" y="52.6094"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.8345" x="1935.3518" y="64.6763">Data Layer</text><rect fill="#FFFFFF" height="1693.8281" style="stroke:#000000;stroke-width:1;" width="260.624" x="2189.5244" y="52.6094"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="127.499" x="2256.0869" y="64.6763">External Services</text><rect fill="#FFFFFF" height="252.1953" style="stroke:#000000;stroke-width:1;" width="1736.9917" x="593.6108" y="515.7969"/><rect fill="#FFFFFF" height="118.5313" style="stroke:none;stroke-width:1;" width="1736.9917" x="593.6108" y="649.4609"/><rect fill="#FFFFFF" height="59.2656" style="stroke:#000000;stroke-width:1;" width="294.7505" x="1241.4092" y="1087.3203"/><g class="participant-lifeline" data-entity-uid="part1" data-qualified-name="user" id="part1-lifeline"><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="24.9551" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="28" x2="28" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part2" data-qualified-name="app" id="part2-lifeline"><g><title>Mobile App</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="264.8652" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="268.0029" x2="268.0029" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part3" data-qualified-name="gateway" id="part3-lifeline"><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="660.8325" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="664.6108" x2="664.6108" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part4" data-qualified-name="user_svc" id="part4-lifeline"><g><title>User Service</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="873.7715" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="877.7207" x2="877.7207" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part5" data-qualified-name="maps_svc" id="part5-lifeline"><g><title>Maps . Routing</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="1017.3027" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1020.8223" x2="1020.8223" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part6" data-qualified-name="pricing_svc" id="part6-lifeline"><g><title>Pricing Service</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="1168.5962" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1171.7832" x2="1171.7832" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part7" data-qualified-name="dispatch_svc" id="part7-lifeline"><g><title>Dispatch Service</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="1323.2495" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1326.4092" x2="1326.4092" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part8" data-qualified-name="payment_svc" id="part8-lifeline"><g><title>Payment Service</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="1552.6289" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1556.5732" x2="1556.5732" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part9" data-qualified-name="notif_svc" id="part9-lifeline"><g><title>Notification</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="1695.8491" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1699.6846" x2="1699.6846" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part10" data-qualified-name="redis" id="part10-lifeline"><g><title>Cache .Redis.</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="1838.6753" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1842.0137" x2="1842.0137" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part11" data-qualified-name="ydb" id="part11-lifeline"><g><title>Operational DB</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="1970.8247" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1974.3369" x2="1974.3369" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part12" data-qualified-name="kafka" id="part12-lifeline"><g><title>Message Broker</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="2103.4185" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="2107.3125" x2="2107.3125" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part13" data-qualified-name="ext_maps" id="part13-lifeline"><g><title>Yandex Maps</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="2253.0635" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="2256.5244" x2="2256.5244" y1="150.3359" y2="1664.8438"/></g></g><g class="participant-lifeline" data-entity-uid="part14" data-qualified-name="ext_pay" id="part14-lifeline"><g><title>Yandex Pay</title><rect fill="#000000" fill-opacity="0.00000" height="1514.5078" width="8" x="2384.3755" y="150.3359"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="2387.6025" x2="2387.6025" y1="150.3359" y2="1664.8438"/></g></g><g class="participant participant-head" data-entity-uid="part1" data-qualified-name="user" id="part1-head"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="10" y="147.0342">User</text><ellipse cx="28.9551" cy="82.0391" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1;"/><path d="M28.9551,90.0391 L28.9551,117.0391 M15.9551,98.0391 L41.9551,98.0391 M28.9551,117.0391 L15.9551,132.0391 M28.9551,117.0391 L41.9551,132.0391" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-tail" data-entity-uid="part1" data-qualified-name="user" id="part1-tail"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="10" y="1676.8389">User</text><ellipse cx="28.9551" cy="1689.1406" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1;"/><path d="M28.9551,1697.1406 L28.9551,1724.1406 M15.9551,1705.1406 L41.9551,1705.1406 M28.9551,1724.1406 L15.9551,1739.1406 M28.9551,1724.1406 L41.9551,1739.1406" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-head" data-entity-uid="part2" data-qualified-name="app" id="part2-head"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="91.7246" x="223.0029" y="119.0391"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="77.7246" x="230.0029" y="139.0342">Mobile App</text></g><g class="participant participant-tail" data-entity-uid="part2" data-qualified-name="app" id="part2-tail"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="91.7246" x="223.0029" y="1663.8438"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="77.7246" x="230.0029" y="1683.8389">Mobile App</text></g><g class="participant participant-head" data-entity-uid="part3" data-qualified-name="gateway" id="part3-head"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.4434" x="613.6108" y="119.0391"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="620.6108" y="139.0342">API Gateway</text></g><g class="participant participant-tail" data-entity-uid="part3" data-qualified-name="gateway" id="part3-tail"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.4434" x="613.6108" y="1663.8438"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="620.6108" y="1683.8389">API Gateway</text></g><g class="participant participant-head" data-entity-uid="part4" data-qualified-name="user_svc" id="part4-head"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.1016" x="826.7207" y="119.0391"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.1016" x="833.7207" y="139.0342">User Service</text></g><g class="participant participant-tail" data-entity-uid="part4" data-qualified-name="user_svc" id="part4-tail"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.1016" x="826.7207" y="1663.8438"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.1016" x="833.7207" y="1683.8389">User Service</text></g><g class="participant participant-head" data-entity-uid="part5" data-qualified-name="maps_svc" id="part5-head"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="124.9609" x="958.8223" y="102.7422"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="110.9609" x="965.8223" y="122.7373">Maps &amp; Routing</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51.7412" x="995.4321" y="139.0342">Service</text></g><g class="participant participant-tail" data-entity-uid="part5" data-qualified-name="maps_svc" id="part5-tail"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="124.9609" x="958.8223" y="1663.8438"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="110.9609" x="965.8223" y="1683.8389">Maps &amp; Routing</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51.7412" x="995.4321" y="1700.1357">Service</text></g><g class="participant participant-head" data-entity-uid="part6" data-qualified-name="pricing_svc" id="part6-head"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="117.626" x="1113.7832" y="119.0391"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="103.626" x="1120.7832" y="139.0342">Pricing Service</text></g><g class="participant participant-tail" data-entity-uid="part6" data-qualified-name="pricing_svc" id="part6-tail"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="117.626" x="1113.7832" y="1663.8438"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="103.626" x="1120.7832" y="1683.8389">Pricing Service</text></g><g class="participant participant-head" data-entity-uid="part7" data-qualified-name="dispatch_svc" id="part7-head"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="131.6807" x="1261.4092" y="119.0391"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117.6807" x="1268.4092" y="139.0342">Dispatch Service</text></g><g class="participant participant-tail" data-entity-uid="part7" data-qualified-name="dispatch_svc" id="part7-tail"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="131.6807" x="1261.4092" y="1663.8438"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117.6807" x="1268.4092" y="1683.8389">Dispatch Service</text></g><g class="participant participant-head" data-entity-uid="part8" data-qualified-name="payment_svc" id="part8-head"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="132.1113" x="1490.5732" y="119.0391"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="118.1113" x="1497.5732" y="139.0342">Payment Service</text></g><g class="participant participant-tail" data-entity-uid="part8" data-qualified-name="payment_svc" id="part8-tail"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="132.1113" x="1490.5732" y="1663.8438"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="118.1113" x="1497.5732" y="1683.8389">Payment Service</text></g><g class="participant participant-head" data-entity-uid="part9" data-qualified-name="notif_svc" id="part9-head"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="94.3291" x="1652.6846" y="102.7422"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="80.3291" x="1659.6846" y="122.7373">Notification</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51.7412" x="1673.9785" y="139.0342">Service</text></g><g class="participant participant-tail" data-entity-uid="part9" data-qualified-name="notif_svc" id="part9-tail"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="94.3291" x="1652.6846" y="1663.8438"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="80.3291" x="1659.6846" y="1683.8389">Notification</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51.7412" x="1673.9785" y="1700.1357">Service</text></g><g class="participant participant-head" data-entity-uid="part10" data-qualified-name="redis" id="part10-head"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="111.3232" x="1787.0137" y="119.0391"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="97.3232" x="1794.0137" y="139.0342">Cache (Redis)</text></g><g class="participant participant-tail" data-entity-uid="part10" data-qualified-name="redis" id="part10-tail"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="111.3232" x="1787.0137" y="1663.8438"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="97.3232" x="1794.0137" y="1683.8389">Cache (Redis)</text></g><g class="participant participant-head" data-entity-uid="part11" data-qualified-name="ydb" id="part11-head"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106.9756" x="1918.3369" y="130.7373">Operational DB</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="39.8604" x="1951.8945" y="147.0342">(YDB)</text><path d="M1956.8247,81.7422 C1956.8247,71.7422 1974.8247,71.7422 1974.8247,71.7422 C1974.8247,71.7422 1992.8247,71.7422 1992.8247,81.7422 L1992.8247,107.7422 C1992.8247,117.7422 1974.8247,117.7422 1974.8247,117.7422 C1974.8247,117.7422 1956.8247,117.7422 1956.8247,107.7422 L1956.8247,81.7422" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1956.8247,81.7422 C1956.8247,91.7422 1974.8247,91.7422 1974.8247,91.7422 C1974.8247,91.7422 1992.8247,91.7422 1992.8247,81.7422" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-tail" data-entity-uid="part11" data-qualified-name="ydb" id="part11-tail"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106.9756" x="1918.3369" y="1676.8389">Operational DB</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="39.8604" x="1951.8945" y="1693.1357">(YDB)</text><path d="M1956.8247,1706.4375 C1956.8247,1696.4375 1974.8247,1696.4375 1974.8247,1696.4375 C1974.8247,1696.4375 1992.8247,1696.4375 1992.8247,1706.4375 L1992.8247,1732.4375 C1992.8247,1742.4375 1974.8247,1742.4375 1974.8247,1742.4375 C1974.8247,1742.4375 1956.8247,1742.4375 1956.8247,1732.4375 L1956.8247,1706.4375" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1956.8247,1706.4375 C1956.8247,1716.4375 1974.8247,1716.4375 1974.8247,1716.4375 C1974.8247,1716.4375 1992.8247,1716.4375 1992.8247,1706.4375" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-head" data-entity-uid="part12" data-qualified-name="kafka" id="part12-head"><path d="M2046.3125,107.7422 L2168.5244,107.7422 C2173.5244,107.7422 2173.5244,129.0391 2173.5244,129.0391 C2173.5244,129.0391 2173.5244,150.3359 2168.5244,150.3359 L2046.3125,150.3359 C2041.3125,150.3359 2041.3125,129.0391 2041.3125,129.0391 C2041.3125,129.0391 2041.3125,107.7422 2046.3125,107.7422" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M2168.5244,107.7422 C2163.5244,107.7422 2163.5244,129.0391 2163.5244,129.0391 C2163.5244,150.3359 2168.5244,150.3359 2168.5244,150.3359" fill="none" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="112.2119" x="2046.3125" y="125.7373">Message Broker</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="50.2988" x="2077.269" y="142.0342">(Kafka)</text></g><g class="participant participant-tail" data-entity-uid="part12" data-qualified-name="kafka" id="part12-tail"><path d="M2046.3125,1663.8438 L2168.5244,1663.8438 C2173.5244,1663.8438 2173.5244,1685.1406 2173.5244,1685.1406 C2173.5244,1685.1406 2173.5244,1706.4375 2168.5244,1706.4375 L2046.3125,1706.4375 C2041.3125,1706.4375 2041.3125,1685.1406 2041.3125,1685.1406 C2041.3125,1685.1406 2041.3125,1663.8438 2046.3125,1663.8438" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M2168.5244,1663.8438 C2163.5244,1663.8438 2163.5244,1685.1406 2163.5244,1685.1406 C2163.5244,1706.4375 2168.5244,1706.4375 2168.5244,1706.4375" fill="none" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="112.2119" x="2046.3125" y="1681.8389">Message Broker</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="50.2988" x="2077.269" y="1698.1357">(Kafka)</text></g><g class="participant participant-head" data-entity-uid="part13" data-qualified-name="ext_maps" id="part13-head"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="107.0781" x="2203.5244" y="119.0391"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="93.0781" x="2210.5244" y="139.0342">Yandex Maps</text></g><g class="participant participant-tail" data-entity-uid="part13" data-qualified-name="ext_maps" id="part13-tail"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="107.0781" x="2203.5244" y="1663.8438"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="93.0781" x="2210.5244" y="1683.8389">Yandex Maps</text></g><g class="participant participant-head" data-entity-uid="part14" data-qualified-name="ext_pay" id="part14-head"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="95.5459" x="2340.6025" y="119.0391"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81.5459" x="2347.6025" y="139.0342">Yandex Pay</text></g><g class="participant participant-tail" data-entity-uid="part14" data-qualified-name="ext_pay" id="part14-tail"><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="95.5459" x="2340.6025" y="1663.8438"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81.5459" x="2347.6025" y="1683.8389">Yandex Pay</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="2451.1484" x="5" y="180.9023"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="2456.1484" y1="180.9023" y2="180.9023"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="2456.1484" y1="183.9023" y2="183.9023"/><rect fill="#FFFFFF" height="23.1328" style="stroke:#000000;stroke-width:1;" width="217.5059" x="1121.8213" y="170.3359"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="198.98" x="1127.8213" y="186.4028">1. App Initialization &amp; Auth</text><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg1"><polygon fill="#000000" points="256.8652,220.6016,266.8652,224.6016,256.8652,228.6016,260.8652,224.6016" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="28.9551" x2="262.8652" y1="224.6016" y2="224.6016"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="35.9551" y="219.5356">1</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="64.251" x="49.0005" y="219.5356">Open App</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg2"><polygon fill="#000000" points="652.8325,249.7344,662.8325,253.7344,652.8325,257.7344,656.8325,253.7344" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="268.8652" x2="658.8325" y1="253.7344" y2="253.7344"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="275.8652" y="248.6685">2</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.1294" x="288.9106" y="248.6685">Validate Session</text></g><g class="message" data-entity-1="part3" data-entity-2="part4" id="msg3"><polygon fill="#000000" points="865.7715,278.8672,875.7715,282.8672,865.7715,286.8672,869.7715,282.8672" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="664.8325" x2="871.7715" y1="282.8672" y2="282.8672"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="671.8325" y="277.8013">3</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="175.8936" x="684.8779" y="277.8013">Authenticate Token (gRPC)</text></g><g class="message" data-entity-1="part4" data-entity-2="part10" id="msg4"><polygon fill="#000000" points="1830.6753,308,1840.6753,312,1830.6753,316,1834.6753,312" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="877.7715" x2="1836.6753" y1="312" y2="312"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="884.7715" y="306.9341">4</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="146.5356" x="897.8169" y="306.9341">Check Cached Session</text></g><g class="message" data-entity-1="part10" data-entity-2="part4" id="msg5"><polygon fill="#000000" points="888.7715,337.1328,878.7715,341.1328,888.7715,345.1328,884.7715,341.1328" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="882.7715" x2="1841.6753" y1="341.1328" y2="341.1328"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="894.7715" y="336.0669">5</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="86.0679" x="907.8169" y="336.0669">Session Valid</text></g><g class="message" data-entity-1="part4" data-entity-2="part3" id="msg6"><polygon fill="#000000" points="675.8325,366.2656,665.8325,370.2656,675.8325,374.2656,671.8325,370.2656" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="669.8325" x2="876.7715" y1="370.2656" y2="370.2656"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="681.8325" y="365.1997">6</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="109.8716" x="694.8779" y="365.1997">User Profile Data</text></g><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg7"><polygon fill="#000000" points="279.8652,395.3984,269.8652,399.3984,279.8652,403.3984,275.8652,399.3984" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="273.8652" x2="663.8325" y1="399.3984" y2="399.3984"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="285.8652" y="394.3325">7</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="86.9312" x="298.9106" y="394.3325">Auth Success</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="2451.1484" x="5" y="427.9648"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="2456.1484" y1="427.9648" y2="427.9648"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="2456.1484" y1="430.9648" y2="430.9648"/><rect fill="#FFFFFF" height="23.1328" style="stroke:#000000;stroke-width:1;" width="313.9077" x="1073.6204" y="417.3984"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="295.3818" x="1079.6204" y="433.4653">2. Price Estimation &amp; Routing (Pre-Ride)</text><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg8"><polygon fill="#000000" points="256.8652,467.6641,266.8652,471.6641,256.8652,475.6641,260.8652,471.6641" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="28.9551" x2="262.8652" y1="471.6641" y2="471.6641"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="35.9551" y="466.5981">8</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="113.623" x="49.0005" y="466.5981">Enter Destination</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg9"><polygon fill="#000000" points="652.8325,496.7969,662.8325,500.7969,652.8325,504.7969,656.8325,500.7969" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="268.8652" x2="658.8325" y1="500.7969" y2="500.7969"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="275.8652" y="495.731">9</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="217.8325" x="288.9106" y="495.731">Request Estimate (Coords A to B)</text></g><path d="M593.6108,515.7969 L663.1001,515.7969 L663.1001,522.9297 L653.1001,532.9297 L593.6108,532.9297 L593.6108,515.7969" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="252.1953" style="stroke:#000000;stroke-width:1;" width="1736.9917" x="593.6108" y="515.7969"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24.4893" x="608.6108" y="528.8638">par</text><g class="message" data-entity-1="part3" data-entity-2="part5" id="msg10"><polygon fill="#000000" points="1009.3027,550.0625,1019.3027,554.0625,1009.3027,558.0625,1013.3027,554.0625" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="664.8325" x2="1015.3027" y1="554.0625" y2="554.0625"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="671.8325" y="548.9966">10</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="146.6182" x="693.9233" y="548.9966">Calculate Route &amp; ETA</text></g><g class="message" data-entity-1="part5" data-entity-2="part13" id="msg11"><polygon fill="#000000" points="2245.0635,579.1953,2255.0635,583.1953,2245.0635,587.1953,2249.0635,583.1953" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1021.3027" x2="2251.0635" y1="583.1953" y2="583.1953"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1028.3027" y="578.1294">11</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="146.3389" x="1050.3936" y="578.1294">Get Traffic/Route Data</text></g><g class="message" data-entity-1="part13" data-entity-2="part5" id="msg12"><polygon fill="#000000" points="1032.3027,608.3281,1022.3027,612.3281,1032.3027,616.3281,1028.3027,612.3281" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1026.3027" x2="2256.0635" y1="612.3281" y2="612.3281"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1038.3027" y="607.2622">12</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="87.5215" x="1060.3936" y="607.2622">Route Details</text></g><g class="message" data-entity-1="part5" data-entity-2="part3" id="msg13"><polygon fill="#000000" points="675.8325,637.4609,665.8325,641.4609,675.8325,645.4609,671.8325,641.4609" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="669.8325" x2="1020.3027" y1="641.4609" y2="641.4609"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="681.8325" y="636.395">13</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="67.0566" x="703.9233" y="636.395">Route Info</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="593.6108" x2="2330.6025" y1="650.4609" y2="650.4609"/><g class="message" data-entity-1="part3" data-entity-2="part6" id="msg14"><polygon fill="#000000" points="1160.5962,668.5938,1170.5962,672.5938,1160.5962,676.5938,1164.5962,672.5938" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="664.8325" x2="1166.5962" y1="672.5938" y2="672.5938"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="671.8325" y="667.5278">14</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="93.6343" x="693.9233" y="667.5278">Calculate Fare</text></g><g class="message" data-entity-1="part6" data-entity-2="part11" id="msg15"><polygon fill="#000000" points="1962.8247,697.7266,1972.8247,701.7266,1962.8247,705.7266,1966.8247,701.7266" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1172.5962" x2="1968.8247" y1="701.7266" y2="701.7266"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1179.5962" y="696.6606">15</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="113.896" x="1201.687" y="696.6606">Fetch Tariff Rules</text></g><g class="message" data-entity-1="part6" data-entity-2="part10" id="msg16"><polygon fill="#000000" points="1830.6753,726.8594,1840.6753,730.8594,1830.6753,734.8594,1834.6753,730.8594" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1172.5962" x2="1836.6753" y1="730.8594" y2="730.8594"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1179.5962" y="725.7935">16</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="141.7178" x="1201.687" y="725.7935">Check Surge/Demand</text></g><g class="message" data-entity-1="part6" data-entity-2="part3" id="msg17"><polygon fill="#000000" points="675.8325,755.9922,665.8325,759.9922,675.8325,763.9922,671.8325,759.9922" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="669.8325" x2="1171.5962" y1="759.9922" y2="759.9922"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="681.8325" y="754.9263">17</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="101.7466" x="703.9233" y="754.9263">Estimated Price</text></g><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg18"><polygon fill="#000000" points="279.8652,792.125,269.8652,796.125,279.8652,800.125,275.8652,796.125" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="273.8652" x2="663.8325" y1="796.125" y2="796.125"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="285.8652" y="791.0591">18</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="349.8765" x="307.9561" y="791.0591">Show Route &amp; Price Options (Economy, Comfort, etc.)</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="2451.1484" x="5" y="824.6914"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="2456.1484" y1="824.6914" y2="824.6914"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="2456.1484" y1="827.6914" y2="827.6914"/><rect fill="#FFFFFF" height="23.1328" style="stroke:#000000;stroke-width:1;" width="218.2104" x="1121.469" y="814.125"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="199.6846" x="1127.469" y="830.1919">3. Ride Booking &amp; Dispatch</text><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg19"><polygon fill="#000000" points="256.8652,864.3906,266.8652,868.3906,256.8652,872.3906,260.8652,868.3906" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="28.9551" x2="262.8652" y1="868.3906" y2="868.3906"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="35.9551" y="863.3247">19</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="117.2666" x="58.0459" y="863.3247">Click "Order Ride"</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg20"><polygon fill="#000000" points="652.8325,893.5234,662.8325,897.5234,652.8325,901.5234,656.8325,897.5234" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="268.8652" x2="658.8325" y1="897.5234" y2="897.5234"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="275.8652" y="892.4575">20</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="142.3081" x="297.9561" y="892.4575">Create Order Request</text></g><g class="message" data-entity-1="part3" data-entity-2="part7" id="msg21"><polygon fill="#000000" points="1315.2495,922.6563,1325.2495,926.6563,1315.2495,930.6563,1319.2495,926.6563" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="664.8325" x2="1321.2495" y1="926.6563" y2="926.6563"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="671.8325" y="921.5903">21</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="87.4326" x="693.9233" y="921.5903">Initialize Ride</text></g><g class="message" data-entity-1="part7" data-entity-2="part4" id="msg22"><polygon fill="#000000" points="888.7715,951.7891,878.7715,955.7891,888.7715,959.7891,884.7715,955.7891" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="882.7715" x2="1326.2495" y1="955.7891" y2="955.7891"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="894.7715" y="950.7231">22</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="167.9146" x="916.8623" y="950.7231">Validate Payment Method</text></g><g class="message" data-entity-1="part4" data-entity-2="part7" id="msg23"><polygon fill="#000000" points="1315.2495,980.9219,1325.2495,984.9219,1315.2495,988.9219,1319.2495,984.9219" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="877.7715" x2="1321.2495" y1="984.9219" y2="984.9219"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="884.7715" y="979.856">23</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="133.2754" x="906.8623" y="979.856">Payment Method OK</text></g><g class="message" data-entity-1="part7" data-entity-2="part11" id="msg24"><polygon fill="#000000" points="1962.8247,1010.0547,1972.8247,1014.0547,1962.8247,1018.0547,1966.8247,1014.0547" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1327.2495" x2="1968.8247" y1="1014.0547" y2="1014.0547"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1334.2495" y="1008.9888">24</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="275.7358" x="1356.3403" y="1008.9888">Create Order Record (Status: SEARCHING)</text></g><g class="message" data-entity-1="part7" data-entity-2="part10" id="msg25"><polygon fill="#000000" points="1830.6753,1039.1875,1840.6753,1043.1875,1830.6753,1047.1875,1834.6753,1043.1875" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1327.2495" x2="1836.6753" y1="1043.1875" y2="1043.1875"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1334.2495" y="1038.1216">25</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="213.1797" x="1356.3403" y="1038.1216">Find Nearby Drivers (Geospatial)</text></g><g class="message" data-entity-1="part10" data-entity-2="part7" id="msg26"><polygon fill="#000000" points="1338.2495,1068.3203,1328.2495,1072.3203,1338.2495,1076.3203,1334.2495,1072.3203" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1332.2495" x2="1841.6753" y1="1072.3203" y2="1072.3203"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1344.2495" y="1067.2544">26</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="117.3682" x="1366.3403" y="1067.2544">Candidate Drivers</text></g><path d="M1241.4092,1087.3203 L1318.0332,1087.3203 L1318.0332,1094.4531 L1308.0332,1104.4531 L1241.4092,1104.4531 L1241.4092,1087.3203" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1;" width="294.7505" x="1241.4092" y="1087.3203"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="1256.4092" y="1100.3872">loop</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104.0703" x="1333.0332" y="1099.5308">[Matching Logic]</text><g class="message" data-entity-1="part7" data-entity-2="part7" id="msg27"><line style="stroke:#000000;stroke-width:1;" x1="1327.2495" x2="1369.2495" y1="1125.5859" y2="1125.5859"/><line style="stroke:#000000;stroke-width:1;" x1="1369.2495" x2="1369.2495" y1="1125.5859" y2="1138.5859"/><line style="stroke:#000000;stroke-width:1;" x1="1328.2495" x2="1369.2495" y1="1138.5859" y2="1138.5859"/><polygon fill="#000000" points="1338.2495,1134.5859,1328.2495,1138.5859,1338.2495,1142.5859,1334.2495,1138.5859" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1334.2495" y="1120.52">27</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="167.8193" x="1356.3403" y="1120.52">Algorithm matches Driver</text></g><g class="message" data-entity-1="part7" data-entity-2="part11" id="msg28"><polygon fill="#000000" points="1962.8247,1170.7188,1972.8247,1174.7188,1962.8247,1178.7188,1966.8247,1174.7188" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1327.2495" x2="1968.8247" y1="1174.7188" y2="1174.7188"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1334.2495" y="1169.6528">28</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="219.8511" x="1356.3403" y="1169.6528">Update Order (Status: ASSIGNED)</text></g><g class="message" data-entity-1="part7" data-entity-2="part12" id="msg29"><polygon fill="#000000" points="2095.4185,1199.8516,2105.4185,1203.8516,2095.4185,1207.8516,2099.4185,1203.8516" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1327.2495" x2="2101.4185" y1="1203.8516" y2="1203.8516"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1334.2495" y="1198.7856">29</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="92.3203" x="1356.3403" y="1198.7856">Publish Event:</text><text fill="#0000FF" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="87.6865" x="1452.793" y="1198.7856">RideAssigned</text></g><g class="message" data-entity-1="part12" data-entity-2="part9" id="msg30"><polygon fill="#000000" points="1710.8491,1228.9844,1700.8491,1232.9844,1710.8491,1236.9844,1706.8491,1232.9844" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1704.8491" x2="2106.4185" y1="1232.9844" y2="1232.9844"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1716.8491" y="1227.9185">30</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="65.3237" x="1738.9399" y="1227.9185">Consume:</text><text fill="#0000FF" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="87.6865" x="1808.396" y="1227.9185">RideAssigned</text></g><g class="message" data-entity-1="part9" data-entity-2="part2" id="msg31"><polygon fill="#000000" points="279.8652,1258.1172,269.8652,1262.1172,279.8652,1266.1172,275.8652,1262.1172" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="273.8652" x2="1698.8491" y1="1262.1172" y2="1262.1172"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="285.8652" y="1257.0513">31</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="290.3164" x="307.9561" y="1257.0513">Push Notification: "Driver Found (Plate 123)"</text></g><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg32"><polygon fill="#000000" points="39.9551,1287.25,29.9551,1291.25,39.9551,1295.25,35.9551,1291.25" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="33.9551" x2="267.8652" y1="1291.25" y2="1291.25"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="45.9551" y="1286.1841">32</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="131.1045" x="68.0459" y="1286.1841">Show Driver on Map</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="2451.1484" x="5" y="1319.8164"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="2456.1484" y1="1319.8164" y2="1319.8164"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="2456.1484" y1="1322.8164" y2="1322.8164"/><rect fill="#FFFFFF" height="23.1328" style="stroke:#000000;stroke-width:1;" width="242.5981" x="1109.2751" y="1309.25"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="224.0723" x="1115.2751" y="1325.3169">4. Ride Completion &amp; Payment</text><path d="M1332,1347.3828 L1332,1387.3828 L1675,1387.3828 L1675,1357.3828 L1665,1347.3828 L1332,1347.3828" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1665,1347.3828 L1665,1357.3828 L1675,1357.3828 L1665,1347.3828" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="156.7617" x="1338" y="1364.4497">Ride physically occurs...</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="322.499" x="1338" y="1379.5825">Driver marks "Complete" via Driver App (implied)</text><g class="message" data-entity-1="part7" data-entity-2="part8" id="msg33"><polygon fill="#000000" points="1544.6289,1409.7813,1554.6289,1413.7813,1544.6289,1417.7813,1548.6289,1413.7813" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1327.2495" x2="1550.6289" y1="1413.7813" y2="1413.7813"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1334.2495" y="1408.7153">33</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="183.2886" x="1356.3403" y="1408.7153">Initiate Payment (Ride Cost)</text></g><g class="message" data-entity-1="part8" data-entity-2="part11" id="msg34"><polygon fill="#000000" points="1962.8247,1438.9141,1972.8247,1442.9141,1962.8247,1446.9141,1966.8247,1442.9141" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1556.6289" x2="1968.8247" y1="1442.9141" y2="1442.9141"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1563.6289" y="1437.8481">34</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="126.4644" x="1585.7197" y="1437.8481">Fetch Order Details</text></g><g class="message" data-entity-1="part8" data-entity-2="part14" id="msg35"><polygon fill="#000000" points="2376.3755,1468.0469,2386.3755,1472.0469,2376.3755,1476.0469,2380.3755,1472.0469" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1556.6289" x2="2382.3755" y1="1472.0469" y2="1472.0469"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1563.6289" y="1466.981">35</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="115.4131" x="1585.7197" y="1466.981">Charge User Card</text></g><g class="message" data-entity-1="part14" data-entity-2="part8" id="msg36"><polygon fill="#000000" points="1567.6289,1497.1797,1557.6289,1501.1797,1567.6289,1505.1797,1563.6289,1501.1797" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1561.6289" x2="2387.3755" y1="1501.1797" y2="1501.1797"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1573.6289" y="1496.1138">36</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="132.7422" x="1595.7197" y="1496.1138">Transaction Success</text></g><g class="message" data-entity-1="part8" data-entity-2="part11" id="msg37"><polygon fill="#000000" points="1962.8247,1526.3125,1972.8247,1530.3125,1962.8247,1534.3125,1966.8247,1530.3125" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1556.6289" x2="1968.8247" y1="1530.3125" y2="1530.3125"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1563.6289" y="1525.2466">37</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="199.1196" x="1585.7197" y="1525.2466">Update Payment Status (PAID)</text></g><g class="message" data-entity-1="part8" data-entity-2="part12" id="msg38"><polygon fill="#000000" points="2095.4185,1555.4453,2105.4185,1559.4453,2095.4185,1563.4453,2099.4185,1559.4453" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1556.6289" x2="2101.4185" y1="1559.4453" y2="1559.4453"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1563.6289" y="1554.3794">38</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="92.3203" x="1585.7197" y="1554.3794">Publish Event:</text><text fill="#008000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="109.8271" x="1682.1724" y="1554.3794">PaymentSuccess</text></g><g class="message" data-entity-1="part12" data-entity-2="part9" id="msg39"><polygon fill="#000000" points="1710.8491,1584.5781,1700.8491,1588.5781,1710.8491,1592.5781,1706.8491,1588.5781" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1704.8491" x2="2106.4185" y1="1588.5781" y2="1588.5781"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1716.8491" y="1583.5122">39</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="65.3237" x="1738.9399" y="1583.5122">Consume:</text><text fill="#008000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="109.8271" x="1808.396" y="1583.5122">PaymentSuccess</text></g><g class="message" data-entity-1="part9" data-entity-2="part2" id="msg40"><polygon fill="#000000" points="279.8652,1613.7109,269.8652,1617.7109,279.8652,1621.7109,275.8652,1617.7109" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="273.8652" x2="1698.8491" y1="1617.7109" y2="1617.7109"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="285.8652" y="1612.645">40</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="179.4229" x="307.9561" y="1612.645">Push Notification: "Receipt"</text></g><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg41"><polygon fill="#000000" points="39.9551,1642.8438,29.9551,1646.8438,39.9551,1650.8438,35.9551,1646.8438" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="33.9551" x2="267.8652" y1="1646.8438" y2="1646.8438"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="45.9551" y="1641.7778">41</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="193.8193" x="68.0459" y="1641.7778">Display Receipt &amp; Rate Driver</text></g><?plantuml-src bLPjRziu3FwkNy7BW241rXHx-HIi1L8dpGLRso3fxZ2WmA3OJ2p4jdoIt3Rtwu-IPSSlsTqkdnph8VMGV4ZwDnDZYf0dN6IC5qPcHRf5nPWH9a7uphC8Ns4XOOD_5PY523F1zugdS05h4I7SI7aGsHvk4_d260-DL33ufb4DW6iew87bN1aHYfnd1WPtSYl8yJJF7O3dUVjykbh2WXjyuKS7s9VFZ6tbAmm2gP2eg6SHeXx0cpzZON2JoWCoe5_BaoLHOMioF_Hps8VUyLp3MrZBmb0iJrdJAgMpyrOhHOyKUXETb-_E6yo4pha9uvP5v5_-v0v-J94UMdUKxyuRt4iZTYBaHiYi7KXcJvmHPX5GEdrEPznm-CgFjcHllefzR88Zp_gU0nx62CCr4kEHywZiemD6v6FBDSBW8KVbBkS9p6wUik7tsKs9FaPRXoKT5GIyGwtvdWIag7gAW5_uxi1BwC4-TcZENmqgwxLR_ZvJhrfRLUSENyqFMyQV8bTUR1P8sJtTV7K5xyTMhB3CX14y4N-xu4WiqyB4S7N5hAhWujegUG8KVMRXZFxPbrwz4_Y3J2b9LhnQamFcJooeqkN4-QJAsl8XF59UCXZkrwjWn2gCnRkqJo28CJo0gqfKktLdSD7owizA3WrFJNwkMLPAxcnpMaMS25QnkO0tHKYfroup7yPWMm1Xher8gxpu9eBXIk657H6ZNfRc6PKIPaXccJFhfMjjfuqsbMUINI2bYZHCmKYu6J4xD5mv6tciEfLImvEmIAoTPOF4QluuTV0AO_6LB2QmG0EFYk-eSIvB2vS2Qr21N1vEDtWK6YuItV7S2iJXbjbECamqTYatnaMJzIrNNjQdSmkd5fh0BTeHyiYLsErWNIIepq5R8jaKQe-NCqn9xdrmas-LyAWihUq4rfV29fOlTMfB3Jpajf0QXlDGPZ8zleD0fZkfp3iWlkEHKyp7SNjfl8Lw97Or4YI2Y0yUL4GlhT6W9v90eKsMXvIAQVPLSx9EJWsCpXrhdhQxiExLQlZUeObbftFQpjj8UFZ2UlvTxJgKGz8q33U6cu9gjPbFry7lo_l5g6VigtahQ33T8rVR8yoKU4P52L-Wj62ARTHe_pQ_W0fVnkJD64kap6b44iHMuglSYtARTAzkEvecUwc4YLFIExr4xHsMGZaRyxSyEiLS1plTR9QB-_ci7wiR_fJIOfi87SFycH8xWSyxIVaDPIBLrJOfyDeMSKg3RPzXzFdIdbupvcojathPKUmaooB5NtHH6zPAN1N4ehbM9xGpNT1mAmigo73bclRzXu-ZMgHMAxvFF9Q68oqarmQVV1jGX-G9-hbPIOWQWJWWABk9GUuw1N26UNpKH2P9ZY33i51wF1x3K-PlIhawQFkjvBpJydyMl69XLzbGq870QDGlMEFJekgOHXyCFMjjHgo1x4ocij3LQEpW_8QrWudJJ2htJi1LnFo94s-B1WtcJDE7fKrJlNxENU-5LdyoEQLHTQRBMO_lVujihn2pQ-_Ct_l_TVPlNdvDQZGbKEIceomxDnFAbZ-rU_VKtVy0?></g></svg>